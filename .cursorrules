# Cursor Rules - nuri-task-app

## Project Overview
This is a React 19 + TypeScript + Vite project with React Router DOM. Follow these rules strictly for all code generation and modifications.

---

## üéØ SEMANTIC HTML - CRITICAL RULES

### General Semantic Requirements
- **ALWAYS** use semantic HTML5 elements over generic `<div>` and `<span>` when appropriate
- Code must be **strictly semantic** - every element choice must be justified by its semantic meaning
- Prioritize accessibility and SEO through proper semantic structure

### Heading Hierarchy (H1-H6)
- **VERIFY** heading hierarchy in every page/component:
  - Only **ONE** `<h1>` per page (main page title)
  - `<h2>` for major sections
  - `<h3>` for subsections of `<h2>`
  - `<h4>-<h6>` following proper nesting
  - **NEVER** skip heading levels (e.g., h1 ‚Üí h3)
- Headings must describe content, not style
- Do not use headings for styling purposes - use CSS instead

### Section Elements
- **ALWAYS** verify and use appropriate sectioning elements:
  - `<header>` - Site/section header, logo, navigation
  - `<nav>` - Navigation menus and links
  - `<main>` - Main content (ONE per page)
  - `<article>` - Self-contained content (blog post, product card, comment)
  - `<section>` - Thematic grouping with a heading
  - `<aside>` - Tangential/sidebar content
  - `<footer>` - Site/section footer
- Each `<section>` should typically contain a heading
- Use `<article>` for content that makes sense in isolation (RSS feed)

### Text Semantics
- `<strong>` for **important** text (semantic importance)
- `<em>` for *emphasized* text (semantic emphasis)
- `<mark>` for highlighted/relevant text
- `<small>` for fine print, disclaimers
- `<time>` for dates and times (with `datetime` attribute)
- `<abbr>` for abbreviations (with `title` attribute)
- `<code>` for inline code
- `<pre>` for preformatted text blocks
- **NEVER** use `<b>` or `<i>` - use `<strong>` or `<em>` with CSS styling

### Forms - MANDATORY Rules
- **ALWAYS** wrap form controls in `<form>` element
- **EVERY** `<input>`, `<textarea>`, `<select>` must have:
  - Associated `<label>` (using `for`/`id` or wrapping)
  - Appropriate `type` attribute
  - `name` attribute for form submission
  - `id` attribute for label association
- Use `<fieldset>` and `<legend>` for grouping related inputs
- Required fields must have `required` attribute AND `aria-required="true"`
- Use appropriate input types: `email`, `tel`, `url`, `number`, `date`, `search`, etc.
- Always include `autocomplete` attributes where applicable
- Error messages should use `aria-describedby` and `aria-invalid`

### Lists
- Use `<ul>` for unordered lists
- Use `<ol>` for ordered lists
- Use `<dl>`, `<dt>`, `<dd>` for description/definition lists
- Navigation menus should be `<nav>` with `<ul>/<li>` inside

### Buttons and Links
- `<button>` for actions (forms, UI interactions)
- `<a>` for navigation (has `href`)
- Buttons must have `type` attribute: `button`, `submit`, or `reset`
- Links for navigation must have meaningful text (not "click here")

### Images and Media
- **ALWAYS** include `alt` attribute on `<img>` (empty string if decorative)
- Use `<figure>` and `<figcaption>` for images with captions
- Lazy load images with `loading="lazy"` when appropriate

---

## ‚öõÔ∏è REACT BEST PRACTICES

### Component Structure
- Use **functional components** with hooks (React 19)
- Use TypeScript for all components with proper type definitions
- Component files: PascalCase (e.g., `TaskList.tsx`)
- One component per file (unless closely related small components)

### React 19 Features
- Utilize React 19 features when appropriate:
  - Use `use` hook for async operations
  - Leverage automatic batching
  - Use `useOptimistic` for optimistic updates
  - Server Actions support (if using SSR)

### Hooks Best Practices
- Follow Rules of Hooks (only at top level, only in React functions)
- Use `useState` for local component state
- Use `useEffect` carefully - prefer derived state when possible
- Use `useMemo` and `useCallback` for performance optimization (when needed)
- Custom hooks should start with `use` prefix
- Extract reusable logic into custom hooks

### Props and Types
```typescript
// Always define prop types
interface TaskCardProps {
  task: Task;
  onComplete: (id: string) => void;
  className?: string;
}

// Use destructuring with defaults
export function TaskCard({ task, onComplete, className = '' }: TaskCardProps) {
  // Component logic
}
```

### State Management
- Local state for component-specific data
- Lift state up when needed by multiple components
- Use Context API for app-wide state (theme, auth)
- Consider state management libraries for complex apps (Zustand, Redux Toolkit)

### Event Handlers
- Name handlers with `handle` prefix: `handleClick`, `handleSubmit`
- Use arrow functions for inline handlers sparingly
- Prevent default behavior explicitly when needed

### Conditional Rendering
```typescript
// Preferred patterns
{isLoading && <LoadingSpinner />}
{error ? <ErrorMessage error={error} /> : <Content />}
{items.length > 0 ? <ItemList items={items} /> : <EmptyState />}
```

### Lists and Keys
- Always provide unique `key` prop for list items
- Use stable IDs, not array indices (unless list is static)
- Keys should be strings or numbers

### Performance
- Use React.memo() for expensive components
- Lazy load routes and heavy components: `React.lazy()`
- Use `Suspense` for loading states
- Avoid inline object/array creation in renders

---

## üé® TAILWIND CSS BEST PRACTICES

### Class Organization
- Order Tailwind classes logically:
  1. Layout (display, position, z-index)
  2. Box model (margin, padding, width, height)
  3. Typography (font, text size, color)
  4. Visual (background, border, shadow)
  5. Interactions (hover, focus, active)
  6. Responsive (sm:, md:, lg:)

```typescript
// Good example
<button className="
  flex items-center justify-center
  px-4 py-2 rounded-lg
  text-sm font-medium text-white
  bg-blue-600 hover:bg-blue-700
  focus:outline-none focus:ring-2 focus:ring-blue-500
  transition-colors duration-200
  disabled:opacity-50 disabled:cursor-not-allowed
">
  Click me
</button>
```

### Responsive Design
- Mobile-first approach (base styles = mobile)
- Use breakpoints: `sm:`, `md:`, `lg:`, `xl:`, `2xl:`
- Test on multiple screen sizes
- Consider touch targets on mobile (min 44x44px)

### Custom Styles
- Extend Tailwind config for custom colors, spacing, etc.
- Use `@apply` sparingly - prefer utility classes
- Create components for repeated patterns

### Accessibility with Tailwind
- Use `focus:` variants for keyboard navigation
- Ensure sufficient color contrast
- Use `sr-only` for screen reader only text
- Add focus rings: `focus:ring-2 focus:ring-offset-2`

### Dark Mode
- Plan for dark mode from the start
- Use `dark:` variant for dark mode styles
- Configure in `tailwind.config.js`

---

## üé¨ GSAP ANIMATION BEST PRACTICES

### Setup and Imports
```typescript
import { gsap } from 'gsap';
import { ScrollTrigger } from 'gsap/ScrollTrigger';

// Register plugins
gsap.registerPlugin(ScrollTrigger);
```

### React + GSAP Integration
- Store GSAP instances in refs, not state
- Create animations in `useEffect` (or `useLayoutEffect` for immediate)
- Clean up animations in effect cleanup
- Use `useGSAP` hook if available

```typescript
import { useRef, useLayoutEffect } from 'react';
import { gsap } from 'gsap';

function AnimatedComponent() {
  const elementRef = useRef<HTMLDivElement>(null);

  useLayoutEffect(() => {
    const ctx = gsap.context(() => {
      gsap.from(elementRef.current, {
        opacity: 0,
        y: 50,
        duration: 1,
        ease: 'power3.out'
      });
    });

    return () => ctx.revert(); // Cleanup
  }, []);

  return <div ref={elementRef}>Animated content</div>;
}
```

### Animation Best Practices
- Use `gsap.context()` for automatic cleanup in React
- Prefer `gsap.to()` over `gsap.from()` when possible
- Use timelines for complex sequences: `gsap.timeline()`
- Set initial states with `gsap.set()`
- Use appropriate easing functions: `power1-4`, `elastic`, `bounce`, `expo`

### Performance
- Animate transform and opacity (GPU accelerated)
- Avoid animating layout properties (width, height, margin)
- Use `will-change` CSS property sparingly
- Batch animations with `gsap.context()`

### ScrollTrigger
```typescript
gsap.to(element, {
  scrollTrigger: {
    trigger: element,
    start: 'top center',
    end: 'bottom center',
    scrub: true,
    markers: false // Set true for debugging
  },
  opacity: 1,
  y: 0
});
```

### Accessibility Considerations
- Respect `prefers-reduced-motion`:
```typescript
const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

if (!prefersReducedMotion) {
  gsap.to(element, { /* animation */ });
}
```

---

## üöÄ REACT ROUTER DOM BEST PRACTICES

### Router Setup
```typescript
import { BrowserRouter, Routes, Route } from 'react-router-dom';

function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/tasks" element={<TaskList />} />
        <Route path="/tasks/:id" element={<TaskDetail />} />
        <Route path="*" element={<NotFound />} />
      </Routes>
    </BrowserRouter>
  );
}
```

### Navigation
- Use `<Link>` or `<NavLink>` for internal navigation
- Use `useNavigate()` for programmatic navigation
- `NavLink` for navigation menus (has `active` class)

### Route Parameters
```typescript
import { useParams } from 'react-router-dom';

function TaskDetail() {
  const { id } = useParams<{ id: string }>();
  // Use id...
}
```

### Protected Routes
```typescript
function ProtectedRoute({ children }: { children: React.ReactNode }) {
  const isAuthenticated = useAuth();
  return isAuthenticated ? children : <Navigate to="/login" replace />;
}
```

---

## üìÅ PROJECT STRUCTURE

```
src/
‚îú‚îÄ‚îÄ components/          # Reusable UI components
‚îÇ   ‚îú‚îÄ‚îÄ ui/             # Basic UI elements (Button, Input, Card)
‚îÇ   ‚îî‚îÄ‚îÄ features/       # Feature-specific components
‚îú‚îÄ‚îÄ pages/              # Route/page components
‚îú‚îÄ‚îÄ hooks/              # Custom React hooks
‚îú‚îÄ‚îÄ utils/              # Utility functions
‚îú‚îÄ‚îÄ types/              # TypeScript type definitions
‚îú‚îÄ‚îÄ services/           # API calls and external services
‚îú‚îÄ‚îÄ context/            # React Context providers
‚îú‚îÄ‚îÄ constants/          # App constants
‚îî‚îÄ‚îÄ assets/             # Static assets (images, fonts)
```

---

## ‚ôø ACCESSIBILITY (A11Y) REQUIREMENTS

### Mandatory A11Y Features
- Keyboard navigation must work for all interactive elements
- Focus indicators must be visible (not `outline: none` without alternative)
- Color contrast must meet WCAG AA standards (4.5:1 for text)
- All images must have meaningful `alt` text
- Form inputs must have associated labels
- Use ARIA attributes when semantic HTML is insufficient
- Skip links for keyboard users
- Proper heading hierarchy

### ARIA Attributes (when needed)
- `aria-label` for elements without visible text
- `aria-labelledby` to reference label element
- `aria-describedby` for additional descriptions
- `aria-hidden="true"` for decorative elements
- `aria-live` for dynamic content updates
- `aria-expanded`, `aria-controls` for interactive widgets

### Focus Management
- Manage focus for modals and dialogs
- Return focus after closing overlays
- Skip navigation links for keyboard users
- Visible focus indicators

---

## üß™ TESTING CONSIDERATIONS

- Components should be testable (avoid tight coupling)
- Use data-testid for test selectors
- Keep business logic separate from UI

---

## üíÖ CODE QUALITY

### Naming Conventions
- Components: PascalCase (`TaskCard.tsx`)
- Functions/variables: camelCase (`handleSubmit`, `taskList`)
- Constants: UPPER_SNAKE_CASE (`API_BASE_URL`)
- Types/Interfaces: PascalCase (`TaskType`, `UserProps`)

### File Organization
- Keep components small and focused (single responsibility)
- Extract reusable logic into hooks
- Co-locate related files (component + styles + tests)

### Comments
- Write self-documenting code (clear names)
- Add comments for complex business logic
- Use JSDoc for public APIs and complex functions

### Imports
- Group imports: React, libraries, local, styles
- Use absolute imports when configured
- Remove unused imports

---

## üîí SECURITY

- Sanitize user input
- Use `textContent` or proper escaping, avoid `dangerouslySetInnerHTML`
- Validate data on both client and server
- Use HTTPS in production
- Keep dependencies updated

---

## ‚ö° PERFORMANCE

- Lazy load routes and heavy components
- Optimize images (WebP, proper sizing)
- Use production builds for deployment
- Minimize bundle size
- Code splitting at route level

---

## üé® SVG AND ICON MANAGEMENT

### SVG File Organization
- **NEVER** use inline SVG code directly in components (except for very small, one-time use cases)
- **ALWAYS** save SVG icons as separate files in `src/assets/svg-icons/`
- Use descriptive, lowercase names with hyphens: `close.svg`, `menu-hamburger.svg`, `arrow-left.svg`

### SVG Import and Usage

**PREFERRED - Use centralized index:**
```typescript
// ‚úÖ BEST - Import from centralized index
import { close, hamburger, notification } from "../assets/svg-icons";

// Use in component
<img src={close} alt="close icon" className="w-6 h-6" />
```

**Alternative - Direct import (when index not available):**
```typescript
// ‚úÖ ACCEPTABLE - Direct import
import closeIcon from "../assets/svg-icons/close.svg";

// Use in component
<img src={closeIcon} alt="close icon" className="w-6 h-6" />
```

```typescript
// ‚ùå INCORRECT - Don't use inline SVG
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <path d="..." />
</svg>
```

### SVG Best Practices
- Keep SVG files clean and optimized (remove unnecessary attributes)
- Use `currentColor` for stroke/fill when you need dynamic colors
- Always provide meaningful `alt` text when using SVGs as `<img>`
- For decorative SVGs, use empty alt: `alt=""`
- Use appropriate sizing classes: `w-6 h-6`, `w-8 h-8`, etc.

### Naming Conventions for SVG Imports
- Import variables should use camelCase: `close`, `menuHamburger`, `arrowLeft`
- File names should use kebab-case: `close.svg`, `menu-hamburger.svg`, `arrow-left.svg`

### Maintaining the SVG Index
- **ALWAYS** update `src/assets/svg-icons/index.ts` when adding new SVG files
- Group related icons together (Navigation, Status, Metrics, etc.)
- Use consistent camelCase naming for exports
- Add comments to document icon categories

```typescript
// Example: Adding a new icon to index.ts
export { default as newIcon } from "./new-icon.svg";
```

---

## üìù FINAL CHECKLIST

Before marking any task complete, verify:
- ‚úÖ Semantic HTML used correctly
- ‚úÖ Heading hierarchy is proper (h1-h6)
- ‚úÖ Sections, articles, aside, nav used appropriately
- ‚úÖ All forms have proper labels and accessibility
- ‚úÖ Strong, em, and semantic text elements used (not b, i)
- ‚úÖ Tailwind classes are organized and responsive
- ‚úÖ GSAP animations respect reduced motion preference
- ‚úÖ TypeScript types are defined
- ‚úÖ Accessibility requirements met (keyboard nav, ARIA, focus)
- ‚úÖ Code is clean, readable, and follows conventions
- ‚úÖ No console errors or warnings
- ‚úÖ Responsive on mobile, tablet, desktop

---

**REMEMBER**: Semantic HTML is not optional - it's mandatory. Every element choice must be semantically correct and meaningful. Question every `<div>` and ask if there's a better semantic alternative.

